# Matrix test - test calling multiple destinations
version: 1
name: "Smoke Test Matrix - Multiple Destinations"

target:
  host: "127.0.0.1"
  port: 5060
  transport: "udp"
  domain: "localhost"

accounts:
  caller:
    username: "1001"
    password: "secret123"
    display_name: "Test Caller"
  callee:
    username: "2000"
    password: "secret456"
    display_name: "Test Callee"

call:
  from: "caller"
  to: "callee"  # Default, will be overridden by matrix
  timeout_s: 30
  max_duration_s: 60

expect:
  outcome: "answered"
  final_sip_code: 200
  answer_within_s: 10
  min_duration_s: 3

# Matrix expansion - will create separate tests for each destination (literal or account key)
matrix:
  to:
    - "2000"
    - "2001"
    - "2002"
